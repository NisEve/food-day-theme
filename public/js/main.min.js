(()=>{var w=Object.create;var y=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var E=(a,o)=>()=>(o||a((o={exports:{}}).exports,o),o.exports);var O=(a,o,c,u)=>{if(o&&typeof o=="object"||typeof o=="function")for(let e of S(o))!b.call(a,e)&&e!==c&&y(a,e,{get:()=>o[e],enumerable:!(u=A(o,e))||u.enumerable});return a};var f=(a,o,c)=>(c=a!=null?w(v(a)):{},O(o||!a||!a.__esModule?y(c,"default",{value:a,enumerable:!0}):c,a));var D=E(()=>{document.addEventListener("DOMContentLoaded",()=>{let a="/shared/dates.json",c=(n="")=>n.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"),u=(n,r)=>{let[t,s,l]=n.split("-"),[L,h]=r.split(":");return`${t}${s}${l}T${L}${h}00`},e=()=>new Date().toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";fetch(a).then(n=>{if(!n.ok)throw new Error("dates.json nicht erreichbar");return n.json()}).then(n=>i(n)).catch(n=>{console.warn("Kalender-Abo Fehler:",n)});function i(n){document.querySelectorAll(".subscribeCalendar").forEach(r=>{var L;let t=r.dataset.calendarSource,s=r.dataset.calendarTitle||"Food Day Termine",l=(L=r.nextElementSibling)!=null&&L.classList.contains("calendarStatus")?r.nextElementSibling:null;if(!t||!Array.isArray(n[t])){console.warn("Ung\xFCltige Kalenderquelle:",t);return}r.addEventListener("click",()=>{let h=n[t];if(!h.length){l&&(l.textContent="Zurzeit sind keine Termine verf\xFCgbar.");return}let d="",I=e();d+=`BEGIN:VCALENDAR\r
`,d+=`VERSION:2.0\r
`,d+=`PRODID:-//Food Day Seevetal//${c(s)}//DE\r
`,d+=`CALSCALE:GREGORIAN\r
`,d+=`METHOD:PUBLISH\r
`,d+=`BEGIN:VTIMEZONE\r
`,d+=`TZID:Europe/Berlin\r
`,d+=`X-LIC-LOCATION:Europe/Berlin\r
`,d+=`END:VTIMEZONE\r
`,d+=`\r
`,h.forEach(m=>{!m.date||!m.start||!m.end||(d+=`BEGIN:VEVENT\r
`,d+=`UID:${t}-${m.date}@food-day.de\r
`,d+=`DTSTAMP:${I}\r
`,d+=`DTSTART;TZID=Europe/Berlin:${u(m.date,m.start)}\r
`,d+=`DTEND;TZID=Europe/Berlin:${u(m.date,m.end)}\r
`,d+=`SUMMARY:${c(s)}\r
`,d+=`LOCATION:${c("Helbach-Haus B\xFCrgermeister-Heitmann-Stra\xDFe 34c 21217 Seevetal")}\r
`,d+=`END:VEVENT\r
`)}),d+=`END:VCALENDAR\r
`;let $=new Blob([d],{type:"text/calendar;charset=utf-8"}),N=URL.createObjectURL($),p=document.createElement("a");p.href=N,p.download=`${t}-termine.ics`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(N),r.textContent="Kalender heruntergeladen",r.disabled=!0,r.setAttribute("aria-disabled","true"),l&&(l.textContent=`Kalender \u201E${s}\u201C wurde heruntergeladen.`)})})}})});var g=E(()=>{document.addEventListener("DOMContentLoaded",()=>{fetch("/shared/dates.json").then(a=>a.json()).then(a=>{let o=new Date;o.setHours(0,0,0,0);let c=e=>{let i=new Date;i.setHours(0,0,0,0);let n=new Date(e);n.setHours(0,0,0,0);let r=Math.round((n-i)/(1e3*60*60*24)),t=new Intl.DateTimeFormat("de-DE",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}).format(e);return r===0?`Heute \xB7 ${t}`:r===1?`Morgen \xB7 ${t}`:t},u=(e,i)=>`${e.replace(":",".")}\u2013${i.replace(":",".")} Uhr`;document.querySelectorAll(".infoBox[data-type]").forEach(e=>{let i=e.dataset.type,n=a[i];if(!n)return;let r=n.map(l=>({...l,d:new Date(l.date)})).filter(l=>l.d>=o).sort((l,L)=>l.d-L.d)[0],t=e.querySelector(".date"),s=e.querySelector(".time");if(!r){t.textContent="Zurzeit kein Termin geplant",s.textContent="",s.hidden=!0;return}t.textContent=c(r.d),r.start&&r.end?(s.hidden=!1,s.textContent=u(r.start,r.end)):(s.textContent="",s.hidden=!0)})}).catch(()=>{console.warn("Termine konnten nicht geladen werden")})})});var T=E(()=>{document.addEventListener("DOMContentLoaded",()=>{fetch("/shared/dates.json").then(a=>a.json()).then(a=>{let o=new Date;o.setHours(0,0,0,0);let c=e=>{let i=new Date;i.setHours(0,0,0,0);let n=new Date(e);n.setHours(0,0,0,0);let r=Math.round((n-i)/(1e3*60*60*24)),t=new Intl.DateTimeFormat("de-DE",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}).format(e);return r===0?`Heute \xB7 ${t}`:r===1?`Morgen \xB7 ${t}`:t},u=(e,i)=>`${e.replace(":",".")}\u2013${i.replace(":",".")} Uhr`;document.querySelectorAll(".dateList[data-type]").forEach(e=>{let i=e.dataset.type,n=a[i];if(!n)return;let r=!1;n.map(t=>({...t,d:new Date(t.date)})).filter(t=>t.d>=o).sort((t,s)=>t.d-s.d).forEach(t=>{let s=document.createElement("li");s.className="dateItem",r||(s.classList.add("is-next"),s.setAttribute("aria-current","date"),r=!0),s.innerHTML=`
							<h3>${t.d.toLocaleString("de-DE",{month:"long",year:"numeric"})}</h3>

							<p class="date infoIcon">
								<time datetime="${t.date}">
								${c(t.d)}
								</time>
							</p>

							<p class="time infoIcon">
								<span class="visually-hidden">Uhrzeit:</span>
								${u(t.start,t.end)}
							</p>
						`,e.appendChild(s)})})}).catch(()=>{console.warn("Terminliste konnte nicht geladen werden")})})});var C=E(()=>{document.addEventListener("DOMContentLoaded",()=>{let a=document.getElementById("burgerNavi"),o=document.getElementById("mainNavi"),c=document.getElementById("closeNavi"),u=document.body,e=null;function i(){o.classList.add("open"),c.classList.add("open"),a.setAttribute("aria-expanded","true"),u.classList.add("no-scroll"),e=document.createElement("div"),e.id="overlay",e.className="overlay",e.addEventListener("click",n),document.body.appendChild(e)}function n(){o.classList.remove("open"),c.classList.remove("open"),a.setAttribute("aria-expanded","false"),u.classList.remove("no-scroll"),e&&(e.remove(),e=null)}a&&o&&c&&(a.addEventListener("click",()=>{o.classList.contains("open")?n():i()}),c.addEventListener("click",n))})});var k=E(()=>{var q=f(D()),F=f(g()),G=f(T()),K=f(C())});k();})();
